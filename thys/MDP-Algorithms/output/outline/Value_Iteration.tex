%
\begin{isabellebody}%
\setisabellecontext{Value{\isacharunderscore}{\kern0pt}Iteration}%
%
\isadelimtheory
\isanewline
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Value{\isacharunderscore}{\kern0pt}Iteration\isanewline
\ \ \isakeyword{imports}\ {\isachardoublequoteopen}MDP{\isacharminus}{\kern0pt}Rewards{\isachardot}{\kern0pt}MDP{\isacharunderscore}{\kern0pt}reward{\isachardoublequoteclose}\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{context}\isamarkupfalse%
\ MDP{\isacharunderscore}{\kern0pt}att{\isacharunderscore}{\kern0pt}{\isasymL}\isanewline
\isakeyword{begin}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Value Iteration%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
In the previous sections we derived that repeated application of \isa{{\isasymL}\isactrlsub b} to any bounded 
function from states to the reals converges to the optimal value of the MDP \isa{{\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt}.

We can turn this procedure into an algorithm that computes not only an approximation of 
\isa{{\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt} but also a policy that is arbitrarily close to optimal.

Most of the proofs rely on the assumption that the supremum in \isa{{\isasymL}\isactrlsub b} can always be attained.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
The following lemma shows that the relation we use to prove termination of the value iteration 
algorithm decreases in each step.
In essence, the distance of the estimate to the optimal value decreases by a factor of at 
least \isa{l} per iteration.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ vi{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}dec{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}l\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymL}\isactrlsub b\ v\ {\isasymnoteq}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymlceil}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c{\isasymrceil}\ {\isacharless}{\kern0pt}\ {\isasymlceil}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c{\isasymrceil}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c\ {\isasymle}\ log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms\ less{\isacharunderscore}{\kern0pt}le\ intro{\isacharcolon}{\kern0pt}\ log{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ l\ {\isacharplus}{\kern0pt}\ log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharslash}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}le\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ log{\isacharunderscore}{\kern0pt}mult{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharparenleft}{\kern0pt}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharslash}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharslash}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ log{\isacharunderscore}{\kern0pt}inverse{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}le\ right{\isacharunderscore}{\kern0pt}inverse{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharslash}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ log{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}one\ neq{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ c\ {\isasymle}\ log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ c{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ linarith\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}dist{\isacharunderscore}{\kern0pt}opt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ le{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}triangle\ dist{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ le{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ mult{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}of\ l\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ order{\isachardot}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ le{\isadigit{2}}{\isacharbrackright}{\kern0pt}\ order{\isachardot}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ le{\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}term{\isacharunderscore}{\kern0pt}measure\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}eps{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ if\ v\ {\isacharequal}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymor}\ l\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}\isanewline
\ \ \ \ then\ {\isadigit{0}}\isanewline
\ \ \ \ else\ nat\ {\isacharparenleft}{\kern0pt}ceiling\ {\isacharparenleft}{\kern0pt}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharslash}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharslash}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ {\isacharasterisk}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{function}\isamarkupfalse%
\ value{\isacharunderscore}{\kern0pt}iteration\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}real\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\isactrlsub b\ real{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\isactrlsub b\ real{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}value{\isacharunderscore}{\kern0pt}iteration\ eps\ v\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}if\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isasymor}\ eps\ {\isasymle}\ {\isadigit{0}}\ then\ {\isasymL}\isactrlsub b\ v\ else\ value{\isacharunderscore}{\kern0pt}iteration\ eps\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{termination}\isamarkupfalse%
\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}relation\ {\isachardoublequoteopen}Wellfounded{\isachardot}{\kern0pt}measure\ term{\isacharunderscore}{\kern0pt}measure{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}simp{\isacharsemicolon}{\kern0pt}\ fail{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ cases\ {\isachardoublequoteopen}l\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ eps\ v\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymor}\ eps\ {\isasymle}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}eps{\isacharcomma}{\kern0pt}\ {\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ eps{\isacharcomma}{\kern0pt}\ v{\isacharparenright}{\kern0pt}\ {\isasymin}\ Wellfounded{\isachardot}{\kern0pt}measure\ term{\isacharunderscore}{\kern0pt}measure{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ gt{\isacharunderscore}{\kern0pt}zero{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}l\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isakeyword{and}\ dist{\isacharunderscore}{\kern0pt}ge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymle}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ h\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ v{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}opt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ h\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ {\isacharasterisk}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ log\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ log{\isacharunderscore}{\kern0pt}less{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharless}{\kern0pt}\ {\isadigit{1}}\ {\isacharslash}{\kern0pt}\ l{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}pos\ intro{\isacharcolon}{\kern0pt}\ neq{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ {\isacharasterisk}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}pos\ intro{\isacharcolon}{\kern0pt}\ neq{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{8}}\ {\isacharasterisk}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}lt{\isacharbrackleft}{\kern0pt}OF\ v{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}opt{\isacharbrackright}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}dist{\isacharunderscore}{\kern0pt}opt{\isacharbrackleft}{\kern0pt}of\ v{\isacharbrackright}{\kern0pt}\ gt{\isacharunderscore}{\kern0pt}zero\ zero{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}disc\ \isanewline
\ \ \ \ \ \ \ \ \ \ mult{\isacharunderscore}{\kern0pt}strict{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isadigit{4}}\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ l{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ mult{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}div{\isacharunderscore}{\kern0pt}pos{\isacharunderscore}{\kern0pt}less\ le{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ dist{\isacharunderscore}{\kern0pt}ge{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ argo{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vi{\isacharunderscore}{\kern0pt}rel{\isacharunderscore}{\kern0pt}dec\ h\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The distance between an estimate for the value and the optimal value can be bounded with respect to 
the distance between the estimate and the result of applying it to \isa{{\isasymL}\isactrlsub b}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}{\isacharunderscore}{\kern0pt}dist{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymle}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}dist\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\ zero{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}disc\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharunderscore}{\kern0pt}eps{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymle}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}{\isacharunderscore}{\kern0pt}dist\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mult{\isachardot}{\kern0pt}commute\ pos{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}divide{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymle}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}{\isacharunderscore}{\kern0pt}dist\ assms\ mult{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}pos{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}divide{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq\ intro{\isacharcolon}{\kern0pt}\ order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharless}{\kern0pt}\ eps\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ algebra{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}{\isacharbrackleft}{\kern0pt}of\ v\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The estimates above allow to give a bound on the error of \isa{value{\isacharunderscore}{\kern0pt}iteration}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{declare}\isamarkupfalse%
\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}simp\ del{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ value{\isacharunderscore}{\kern0pt}iteration{\isacharunderscore}{\kern0pt}error{\isacharcolon}{\kern0pt}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}value{\isacharunderscore}{\kern0pt}iteration\ eps\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharunderscore}{\kern0pt}eps\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ eps\ v\ rule{\isacharcolon}{\kern0pt}\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
After the value iteration terminates, one can easily obtain a stationary deterministic 
epsilon-optimal policy.

Such a policy does not exist in general, attainment of the supremum in \isa{{\isasymL}\isactrlsub b} is required.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}find{\isacharunderscore}{\kern0pt}policy\ {\isacharparenleft}{\kern0pt}v\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\isactrlsub b\ real{\isacharparenright}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ L\isactrlsub a\ a\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}vi{\isacharunderscore}{\kern0pt}policy\ eps\ v\ {\isacharequal}{\kern0pt}\ find{\isacharunderscore}{\kern0pt}policy\ {\isacharparenleft}{\kern0pt}value{\isacharunderscore}{\kern0pt}iteration\ eps\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
We formalize the attainment of the supremum using a predicate \isa{has{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}max}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{abbreviation}\isamarkupfalse%
\ {\isachardoublequoteopen}vi\ u\ n\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}n{\isacharparenright}{\kern0pt}\ u{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}u\ {\isasymle}\ v{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}vi\ u\ n\ {\isasymle}\ vi\ v\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ {\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}mono\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isasymle}\ vi\ v\ n{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymle}\ vi\ v\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vi\ {\isacharparenleft}{\kern0pt}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Groups{\isachardot}{\kern0pt}add{\isacharunderscore}{\kern0pt}ac{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ funpow{\isacharunderscore}{\kern0pt}add\ funpow{\isacharunderscore}{\kern0pt}swap{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ vi\ {\isacharparenleft}{\kern0pt}vi\ v\ n{\isacharparenright}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ vi\ v\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ funpow{\isacharunderscore}{\kern0pt}add{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}vi\ v\ n\ {\isasymle}\ vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vi\ v\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymle}\ vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vi\ v\ {\isacharparenleft}{\kern0pt}n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}\ {\isasymle}\ vi\ {\isacharparenleft}{\kern0pt}vi\ v\ n{\isacharparenright}{\kern0pt}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ Groups{\isachardot}{\kern0pt}add{\isacharunderscore}{\kern0pt}ac{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ funpow{\isacharunderscore}{\kern0pt}add\ funpow{\isacharunderscore}{\kern0pt}swap{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n\ {\isacharplus}{\kern0pt}\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}iter{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ only{\isacharcolon}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ funpow{\isacharunderscore}{\kern0pt}add\ o{\isacharunderscore}{\kern0pt}apply{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}vi\ v\ {\isasymlonglonglongrightarrow}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ {\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}lim\isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}vi\ v\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlonglonglongrightarrow}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ thm{\isacharunderscore}{\kern0pt}{\isadigit{6}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}b{\isacharunderscore}{\kern0pt}aux{\isacharbrackleft}{\kern0pt}of\ v{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ only{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}commute{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharcircum}{\kern0pt}{\isacharcircum}{\kern0pt}\ Suc\ {\isacharunderscore}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ MDP{\isacharunderscore}{\kern0pt}att{\isacharunderscore}{\kern0pt}{\isasymL}\ \isanewline
\isakeyword{begin}%
\begin{isamarkuptext}%
The error of the resulting policy is bounded by the distance from its value to the value computed 
by the value iteration plus the error in the value iteration itself.
We show that both are less than \isa{eps\ {\isacharslash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}} when the algorithm terminates.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ find{\isacharunderscore}{\kern0pt}policy{\isacharunderscore}{\kern0pt}error{\isacharunderscore}{\kern0pt}bound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}stationary{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}find{\isacharunderscore}{\kern0pt}policy\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}d\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}mk{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}find{\isacharunderscore}{\kern0pt}policy\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}mk{\isacharunderscore}{\kern0pt}stationary\ {\isacharquery}{\kern0pt}d{\isachardoublequoteclose}\isanewline
\ \ \ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}L\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}find{\isacharunderscore}{\kern0pt}policy\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymL}\isactrlsub b\ v{\isachardoublequoteclose}\ \isakeyword{for}\ v\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ find{\isacharunderscore}{\kern0pt}policy{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ antisym{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}L\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}{\isasymlambda}s{\isachardot}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ L\isactrlsub a\ a\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isasymle}\ {\isasymL}\isactrlsub b\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Sup{\isacharunderscore}{\kern0pt}att\ has{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}max\ abs{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymL}\isactrlsub b{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq\ {\isasymL}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}SUP{\isacharunderscore}{\kern0pt}det\ less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}bfun{\isacharunderscore}{\kern0pt}def\ arg{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det{\isacharunderscore}{\kern0pt}def\ max{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ cSUP{\isacharunderscore}{\kern0pt}upper\ bounded{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}bdd{\isacharunderscore}{\kern0pt}above\ boundedI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}r\isactrlsub M\ {\isacharplus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ norm\ v{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymL}\isactrlsub b\ v\ {\isasymle}\ L\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}{\isasymlambda}s{\isachardot}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}a{\isachardot}{\kern0pt}\ L\isactrlsub a\ a\ v\ s{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}A\ s{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}bfun{\isacharunderscore}{\kern0pt}def\ {\isasymL}\isactrlsub b{\isachardot}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eq\ {\isasymL}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}SUP{\isacharunderscore}{\kern0pt}det\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Sup{\isacharunderscore}{\kern0pt}att\ ex{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ cSUP{\isacharunderscore}{\kern0pt}least\ app{\isacharunderscore}{\kern0pt}arg{\isacharunderscore}{\kern0pt}max{\isacharunderscore}{\kern0pt}ge\ simp{\isacharcolon}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}L\isactrlsub a{\isacharunderscore}{\kern0pt}det\ max{\isacharunderscore}{\kern0pt}L{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}def\ is{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}{\isasymnu}{\isacharunderscore}{\kern0pt}fix\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ dist\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}triangle\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ \ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}\ contraction{\isacharunderscore}{\kern0pt}L\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ \ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}disc\ mult{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono\ simp{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}commute\ pos{\isacharunderscore}{\kern0pt}divide{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymle}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ eps{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\ mult{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharunderscore}{\kern0pt}eps\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymle}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}triangle\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \ \isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ vi{\isacharunderscore}{\kern0pt}policy{\isacharunderscore}{\kern0pt}opt{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}stationary{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}vi{\isacharunderscore}{\kern0pt}policy\ eps\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ vi{\isacharunderscore}{\kern0pt}policy{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ eps\ v\ rule{\isacharcolon}{\kern0pt}\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ find{\isacharunderscore}{\kern0pt}policy{\isacharunderscore}{\kern0pt}error{\isacharunderscore}{\kern0pt}bound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lemma{\isacharunderscore}{\kern0pt}{\isadigit{6}}{\isacharunderscore}{\kern0pt}{\isadigit{3}}{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}vi\ v\ n{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}vi\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps\ {\isacharslash}{\kern0pt}\ {\isadigit{2}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharunderscore}{\kern0pt}eps\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
\isanewline
\isacommand{context}\isamarkupfalse%
\ MDP{\isacharunderscore}{\kern0pt}act\ \isakeyword{begin}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}v\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}s\ {\isasymRightarrow}\isactrlsub b\ real{\isacharparenright}{\kern0pt}\ s\ {\isacharequal}{\kern0pt}\ arb{\isacharunderscore}{\kern0pt}act\ {\isacharparenleft}{\kern0pt}opt{\isacharunderscore}{\kern0pt}acts\ v\ s{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}vi{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ eps\ v\ {\isacharequal}{\kern0pt}\ find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}value{\isacharunderscore}{\kern0pt}iteration\ eps\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}error{\isacharunderscore}{\kern0pt}bound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ v\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}stationary{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}d\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}mk{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}p\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}mk{\isacharunderscore}{\kern0pt}stationary\ {\isacharquery}{\kern0pt}d{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}L\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}dec{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ v\ {\isacharequal}{\kern0pt}\ {\isasymL}\isactrlsub b\ v{\isachardoublequoteclose}\ \isakeyword{for}\ v\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isasymnu}{\isacharunderscore}{\kern0pt}improving{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b\ {\isasymnu}{\isacharunderscore}{\kern0pt}improving{\isacharunderscore}{\kern0pt}opt{\isacharunderscore}{\kern0pt}acts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ L{\isacharunderscore}{\kern0pt}{\isasymnu}{\isacharunderscore}{\kern0pt}fix\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ dist\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}triangle\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}L\ {\isacharquery}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ L{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ \ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ contraction{\isacharunderscore}{\kern0pt}{\isasymL}\ contraction{\isacharunderscore}{\kern0pt}L\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}mono{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymle}\ l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ \ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}l\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ v{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ zero{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}disc\ mult{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}mono\ simp{\isacharcolon}{\kern0pt}\ dist{\isacharunderscore}{\kern0pt}commute\ pos{\isacharunderscore}{\kern0pt}divide{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}\ {\isasymle}\ eps\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ l{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymle}\ eps{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ disc{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}one\ mult{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}le\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isacharasterisk}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isasymL}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isacharunderscore}{\kern0pt}eps\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isasymle}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharquery}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ dist\ {\isacharparenleft}{\kern0pt}{\isasymL}\isactrlsub b\ v{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}triangle\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \ \isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ vi{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}opt{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}eps\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}l\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}dist\ {\isacharparenleft}{\kern0pt}{\isasymnu}\isactrlsub b\ {\isacharparenleft}{\kern0pt}mk{\isacharunderscore}{\kern0pt}stationary{\isacharunderscore}{\kern0pt}det\ {\isacharparenleft}{\kern0pt}vi{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}\ eps\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnu}\isactrlsub b{\isacharunderscore}{\kern0pt}opt\ {\isacharless}{\kern0pt}\ eps{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ vi{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ eps\ v\ rule{\isacharcolon}{\kern0pt}\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ find{\isacharunderscore}{\kern0pt}policy{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}error{\isacharunderscore}{\kern0pt}bound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ value{\isacharunderscore}{\kern0pt}iteration{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Value_Iteration.tex%:%
%:%6=1%:%
%:%7=2%:%
%:%12=3%:%
%:%13=3%:%
%:%14=4%:%
%:%15=5%:%
%:%20=5%:%
%:%23=6%:%
%:%24=7%:%
%:%25=7%:%
%:%26=8%:%
%:%33=10%:%
%:%45=12%:%
%:%46=13%:%
%:%47=14%:%
%:%48=15%:%
%:%49=16%:%
%:%50=17%:%
%:%51=18%:%
%:%55=22%:%
%:%56=23%:%
%:%57=24%:%
%:%58=25%:%
%:%60=28%:%
%:%61=28%:%
%:%62=29%:%
%:%63=30%:%
%:%70=31%:%
%:%71=31%:%
%:%72=32%:%
%:%73=32%:%
%:%74=33%:%
%:%75=33%:%
%:%76=34%:%
%:%77=34%:%
%:%78=35%:%
%:%79=35%:%
%:%80=35%:%
%:%81=36%:%
%:%82=36%:%
%:%83=37%:%
%:%84=37%:%
%:%85=38%:%
%:%86=38%:%
%:%87=38%:%
%:%88=39%:%
%:%89=39%:%
%:%90=40%:%
%:%91=40%:%
%:%92=41%:%
%:%93=41%:%
%:%94=41%:%
%:%95=42%:%
%:%96=42%:%
%:%97=43%:%
%:%98=43%:%
%:%99=44%:%
%:%100=44%:%
%:%101=44%:%
%:%102=44%:%
%:%103=45%:%
%:%104=45%:%
%:%105=46%:%
%:%106=46%:%
%:%107=47%:%
%:%113=47%:%
%:%116=48%:%
%:%117=49%:%
%:%118=49%:%
%:%125=50%:%
%:%126=50%:%
%:%127=51%:%
%:%128=51%:%
%:%129=52%:%
%:%130=52%:%
%:%131=53%:%
%:%132=53%:%
%:%133=54%:%
%:%134=54%:%
%:%135=55%:%
%:%136=55%:%
%:%137=56%:%
%:%138=56%:%
%:%139=57%:%
%:%140=57%:%
%:%141=58%:%
%:%142=58%:%
%:%143=59%:%
%:%149=59%:%
%:%152=60%:%
%:%153=61%:%
%:%154=61%:%
%:%157=64%:%
%:%158=65%:%
%:%159=66%:%
%:%160=66%:%
%:%161=67%:%
%:%162=68%:%
%:%165=69%:%
%:%169=69%:%
%:%170=69%:%
%:%175=69%:%
%:%178=70%:%
%:%179=71%:%
%:%180=71%:%
%:%187=72%:%
%:%188=72%:%
%:%189=73%:%
%:%190=73%:%
%:%191=74%:%
%:%192=74%:%
%:%193=75%:%
%:%194=75%:%
%:%195=76%:%
%:%196=76%:%
%:%197=77%:%
%:%198=77%:%
%:%199=78%:%
%:%200=78%:%
%:%201=79%:%
%:%202=79%:%
%:%203=80%:%
%:%204=80%:%
%:%205=81%:%
%:%206=81%:%
%:%207=82%:%
%:%208=82%:%
%:%209=83%:%
%:%210=83%:%
%:%211=84%:%
%:%212=84%:%
%:%213=85%:%
%:%214=85%:%
%:%215=86%:%
%:%216=86%:%
%:%217=87%:%
%:%218=87%:%
%:%219=88%:%
%:%220=88%:%
%:%221=89%:%
%:%222=89%:%
%:%223=90%:%
%:%224=90%:%
%:%225=91%:%
%:%226=91%:%
%:%227=92%:%
%:%228=93%:%
%:%229=93%:%
%:%230=94%:%
%:%231=94%:%
%:%232=95%:%
%:%233=95%:%
%:%234=96%:%
%:%235=96%:%
%:%236=97%:%
%:%237=97%:%
%:%238=98%:%
%:%239=98%:%
%:%240=99%:%
%:%241=99%:%
%:%250=102%:%
%:%251=103%:%
%:%253=105%:%
%:%254=105%:%
%:%257=106%:%
%:%261=106%:%
%:%262=106%:%
%:%263=107%:%
%:%264=107%:%
%:%269=107%:%
%:%272=108%:%
%:%273=109%:%
%:%274=109%:%
%:%275=110%:%
%:%276=111%:%
%:%283=112%:%
%:%284=112%:%
%:%285=113%:%
%:%286=113%:%
%:%287=114%:%
%:%288=114%:%
%:%289=115%:%
%:%290=115%:%
%:%291=116%:%
%:%292=116%:%
%:%293=117%:%
%:%294=117%:%
%:%295=118%:%
%:%296=118%:%
%:%297=119%:%
%:%298=119%:%
%:%299=120%:%
%:%300=120%:%
%:%301=121%:%
%:%302=121%:%
%:%303=122%:%
%:%304=122%:%
%:%305=123%:%
%:%306=123%:%
%:%307=124%:%
%:%308=124%:%
%:%309=125%:%
%:%310=125%:%
%:%311=126%:%
%:%312=126%:%
%:%313=127%:%
%:%314=127%:%
%:%315=128%:%
%:%325=131%:%
%:%327=133%:%
%:%328=133%:%
%:%329=134%:%
%:%330=135%:%
%:%331=135%:%
%:%332=136%:%
%:%333=137%:%
%:%336=138%:%
%:%340=138%:%
%:%341=138%:%
%:%342=139%:%
%:%343=139%:%
%:%352=142%:%
%:%353=143%:%
%:%354=144%:%
%:%355=145%:%
%:%357=147%:%
%:%358=147%:%
%:%359=148%:%
%:%360=149%:%
%:%361=149%:%
%:%363=152%:%
%:%365=155%:%
%:%366=155%:%
%:%367=156%:%
%:%368=157%:%
%:%369=157%:%
%:%370=158%:%
%:%373=159%:%
%:%377=159%:%
%:%378=159%:%
%:%379=160%:%
%:%380=160%:%
%:%385=160%:%
%:%388=161%:%
%:%389=162%:%
%:%390=162%:%
%:%391=163%:%
%:%392=164%:%
%:%399=165%:%
%:%400=165%:%
%:%401=166%:%
%:%402=166%:%
%:%403=167%:%
%:%404=167%:%
%:%405=168%:%
%:%406=168%:%
%:%407=168%:%
%:%408=169%:%
%:%409=169%:%
%:%410=170%:%
%:%411=170%:%
%:%412=171%:%
%:%413=171%:%
%:%414=171%:%
%:%415=172%:%
%:%416=172%:%
%:%417=173%:%
%:%418=173%:%
%:%419=173%:%
%:%420=173%:%
%:%421=174%:%
%:%427=174%:%
%:%430=175%:%
%:%431=176%:%
%:%432=177%:%
%:%433=177%:%
%:%434=178%:%
%:%435=179%:%
%:%442=180%:%
%:%443=180%:%
%:%444=181%:%
%:%445=181%:%
%:%446=182%:%
%:%447=182%:%
%:%448=183%:%
%:%449=183%:%
%:%450=183%:%
%:%451=184%:%
%:%452=184%:%
%:%453=185%:%
%:%454=185%:%
%:%455=186%:%
%:%456=186%:%
%:%457=186%:%
%:%458=186%:%
%:%459=187%:%
%:%465=187%:%
%:%468=188%:%
%:%469=189%:%
%:%470=190%:%
%:%471=191%:%
%:%472=191%:%
%:%475=192%:%
%:%479=192%:%
%:%480=192%:%
%:%486=192%:%
%:%489=193%:%
%:%490=194%:%
%:%491=194%:%
%:%494=195%:%
%:%498=195%:%
%:%499=195%:%
%:%500=196%:%
%:%501=196%:%
%:%506=196%:%
%:%509=197%:%
%:%510=198%:%
%:%511=199%:%
%:%512=200%:%
%:%513=200%:%
%:%514=201%:%
%:%515=202%:%
%:%516=202%:%
%:%517=203%:%
%:%519=206%:%
%:%520=207%:%
%:%521=208%:%
%:%523=210%:%
%:%524=210%:%
%:%525=211%:%
%:%526=212%:%
%:%533=213%:%
%:%534=213%:%
%:%535=214%:%
%:%536=214%:%
%:%537=215%:%
%:%538=215%:%
%:%539=216%:%
%:%540=217%:%
%:%541=217%:%
%:%542=218%:%
%:%543=218%:%
%:%544=219%:%
%:%545=219%:%
%:%546=220%:%
%:%547=220%:%
%:%548=221%:%
%:%549=221%:%
%:%550=222%:%
%:%551=222%:%
%:%552=223%:%
%:%553=223%:%
%:%554=224%:%
%:%555=224%:%
%:%556=225%:%
%:%557=225%:%
%:%558=226%:%
%:%559=226%:%
%:%560=227%:%
%:%561=227%:%
%:%562=228%:%
%:%563=228%:%
%:%564=229%:%
%:%565=229%:%
%:%566=230%:%
%:%567=230%:%
%:%568=231%:%
%:%569=231%:%
%:%570=232%:%
%:%571=232%:%
%:%572=233%:%
%:%573=233%:%
%:%574=233%:%
%:%575=234%:%
%:%576=234%:%
%:%577=235%:%
%:%578=235%:%
%:%579=236%:%
%:%580=236%:%
%:%581=236%:%
%:%582=237%:%
%:%583=237%:%
%:%584=238%:%
%:%585=238%:%
%:%586=238%:%
%:%587=239%:%
%:%588=239%:%
%:%589=240%:%
%:%590=240%:%
%:%591=241%:%
%:%592=241%:%
%:%593=241%:%
%:%594=241%:%
%:%595=242%:%
%:%596=242%:%
%:%597=243%:%
%:%598=243%:%
%:%599=244%:%
%:%600=244%:%
%:%601=245%:%
%:%602=245%:%
%:%603=246%:%
%:%604=246%:%
%:%605=247%:%
%:%606=247%:%
%:%607=248%:%
%:%608=248%:%
%:%609=249%:%
%:%610=249%:%
%:%611=249%:%
%:%612=250%:%
%:%613=250%:%
%:%614=251%:%
%:%615=251%:%
%:%616=252%:%
%:%617=252%:%
%:%618=252%:%
%:%619=252%:%
%:%620=253%:%
%:%621=253%:%
%:%622=254%:%
%:%623=254%:%
%:%624=255%:%
%:%625=255%:%
%:%626=256%:%
%:%627=256%:%
%:%628=256%:%
%:%629=257%:%
%:%630=257%:%
%:%631=258%:%
%:%632=258%:%
%:%633=259%:%
%:%634=259%:%
%:%635=259%:%
%:%636=260%:%
%:%637=260%:%
%:%638=261%:%
%:%639=261%:%
%:%640=262%:%
%:%641=262%:%
%:%642=262%:%
%:%643=263%:%
%:%644=263%:%
%:%645=264%:%
%:%651=264%:%
%:%654=265%:%
%:%655=266%:%
%:%656=266%:%
%:%657=267%:%
%:%658=268%:%
%:%661=269%:%
%:%665=269%:%
%:%666=269%:%
%:%667=270%:%
%:%668=270%:%
%:%669=271%:%
%:%670=271%:%
%:%671=272%:%
%:%672=272%:%
%:%673=273%:%
%:%674=273%:%
%:%675=273%:%
%:%676=274%:%
%:%677=274%:%
%:%678=275%:%
%:%679=275%:%
%:%680=276%:%
%:%686=276%:%
%:%689=277%:%
%:%690=278%:%
%:%691=278%:%
%:%692=279%:%
%:%693=280%:%
%:%694=281%:%
%:%697=282%:%
%:%701=282%:%
%:%702=282%:%
%:%703=283%:%
%:%704=283%:%
%:%709=283%:%
%:%712=284%:%
%:%713=285%:%
%:%714=285%:%
%:%715=286%:%
%:%716=287%:%
%:%717=287%:%
%:%718=288%:%
%:%719=289%:%
%:%720=289%:%
%:%721=290%:%
%:%722=291%:%
%:%723=291%:%
%:%724=292%:%
%:%725=293%:%
%:%726=293%:%
%:%727=294%:%
%:%728=295%:%
%:%735=296%:%
%:%736=296%:%
%:%737=297%:%
%:%738=297%:%
%:%739=298%:%
%:%740=298%:%
%:%741=299%:%
%:%742=299%:%
%:%743=300%:%
%:%744=300%:%
%:%745=301%:%
%:%746=301%:%
%:%747=302%:%
%:%748=302%:%
%:%749=303%:%
%:%750=303%:%
%:%751=304%:%
%:%752=304%:%
%:%753=305%:%
%:%754=305%:%
%:%755=305%:%
%:%756=306%:%
%:%757=306%:%
%:%758=307%:%
%:%759=307%:%
%:%760=308%:%
%:%761=308%:%
%:%762=308%:%
%:%763=309%:%
%:%764=309%:%
%:%765=310%:%
%:%766=310%:%
%:%767=310%:%
%:%768=311%:%
%:%769=311%:%
%:%770=312%:%
%:%771=312%:%
%:%772=313%:%
%:%773=313%:%
%:%774=313%:%
%:%775=313%:%
%:%776=314%:%
%:%777=314%:%
%:%778=315%:%
%:%779=315%:%
%:%780=316%:%
%:%781=316%:%
%:%782=317%:%
%:%783=317%:%
%:%784=318%:%
%:%785=318%:%
%:%786=319%:%
%:%787=319%:%
%:%788=320%:%
%:%789=320%:%
%:%790=321%:%
%:%791=321%:%
%:%792=321%:%
%:%793=322%:%
%:%794=322%:%
%:%795=323%:%
%:%796=323%:%
%:%797=324%:%
%:%798=324%:%
%:%799=324%:%
%:%800=324%:%
%:%801=325%:%
%:%802=325%:%
%:%803=326%:%
%:%804=326%:%
%:%805=327%:%
%:%806=327%:%
%:%807=328%:%
%:%808=328%:%
%:%809=328%:%
%:%810=329%:%
%:%811=329%:%
%:%812=330%:%
%:%813=330%:%
%:%814=331%:%
%:%815=331%:%
%:%816=331%:%
%:%817=332%:%
%:%818=332%:%
%:%819=333%:%
%:%820=333%:%
%:%821=334%:%
%:%822=334%:%
%:%823=334%:%
%:%824=335%:%
%:%825=335%:%
%:%826=336%:%
%:%832=336%:%
%:%835=337%:%
%:%836=338%:%
%:%837=338%:%
%:%838=339%:%
%:%839=340%:%
%:%842=341%:%
%:%846=341%:%
%:%847=341%:%
%:%848=342%:%
%:%849=342%:%
%:%850=343%:%
%:%851=343%:%
%:%852=344%:%
%:%853=344%:%
%:%854=345%:%
%:%855=345%:%
%:%856=345%:%
%:%857=346%:%
%:%858=346%:%
%:%859=347%:%
%:%860=347%:%
%:%861=348%:%
%:%867=348%:%
%:%870=349%:%
%:%871=350%:%
%:%872=350%:%
%:%879=351%:%
